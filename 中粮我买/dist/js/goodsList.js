$.ajax({type:"get",url:"json/products.json",success:function(a){for(var n="",t=0;t<a.list.length;t++){var s=a.list[t];n+='<li class="pro_warp">\n							<div class="pro_detail">\n								<div class="pro_pic">\n									<a href="javascript:;"><img src="images/'+s.src+'"/></a>\n								</div>\n								<div class="pro_price">\n									'+s.price+'元\n								</div>\n								<div class="pro_name">\n									<a href="javascript:;">'+s.name+'</a>\n								</div>\n								<div class="pro_read">\n									<span class="evaluated">已评价<a href=""><em>805</em></a></span>\n									<span class="collection"><b class="png"></b>收藏</span>\n									<span class="buycarts">\n										<b class="png"></b>\n										<span class="buy_btn">加入购物车</span>\n									</span>\n								</div>\n								<span style="display:none" data-id='+s.id+" data-name="+s.name+"  data-price="+s.price+" data-src="+s.src+"></span>\n							</div>\n						</li>"}$(".pro_list").html(n)}}),$(function(){$(".pro_list").on("click",".pro_warp",function(){var a=[],n={name:$(this).parent().parent().next().data("name"),price:$(this).parent().parent().next().data("price"),src:$(this).parent().parent().next().data("src"),id:$(this).parent().parent().next().data("id"),count:1},t=!0;if(oldCookie=getCookie("shoplist"),0!=oldCookie.length){a=oldCookie;for(var s=0;s<a.length;s++)if(n.id==a[s].id){a[s].count++,t=!1;break}}t&&a.push(n),setCookie("shoplist",JSON.stringify(a)),location.href="goodsDetails.html",console.log(document.cookie)})}),$(function(){$(".pro_list").on("click",".buy_btn",function(a){var n=a||event,t=[],s={name:$(this).parent().parent().next().data("name"),price:$(this).parent().parent().next().data("price"),src:$(this).parent().parent().next().data("src"),id:$(this).parent().parent().next().data("id"),count:1},e=!0;if(oldCookie=getCookie("shoplist"),0!=oldCookie.length){t=oldCookie;for(var i=0;i<t.length;i++)if(s.id==t[i].id){t[i].count++,e=!1;break}}e&&t.push(s),setCookie("shoplist",JSON.stringify(t)),confirm("点击确定:继续购物 ;点击取消: 跳转到购物车页面")||(location.href="shopCarts.html"),n.stopPropagation?n.stopPropagation():n.cancelBubble=!0})});
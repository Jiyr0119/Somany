requirejs.config({paths:{jquery:"jquery-1.8.3",vd:"validate"}}),requirejs(["jquery","vd"],function(s,e){function r(){for(var s="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM0123456789",e="",r=0;4>r;r++)e+=s[Math.floor(62*Math.random())];return e}var o=!1;s("#phone").blur(function(){phone=s(this).val(),e.checkPhone(phone)?(s(this).next("span").css("display","none"),s(this).css("border-color","green"),o=!0):(s(this).next("span").css("display","block"),s(this).css("border-color","red"),o=!1)});var n=!1;s("#uname").blur(function(){name=s(this).val(),e.checkName(name)?(s(this).next("span").css("display","none"),s(this).css("border-color","green"),n=!0):(s(this).next("span").css("display","block"),s(this).css("border-color","red"),n=!1)});var t=!1;s("#upwd").blur(function(){password=s(this).val(),e.checkPwd(password)?(s(this).next("span").css("display","none"),s(this).css("border-color","green"),t=!0):(s(this).next("span").css("display","block"),s(this).css("border-color","red"),t=!1)});var c=!1;s("#surepwd").blur(function(){var e=s(this).val(),r=s("#upwd").val();e==r?(s(this).next("span").css("display","none"),s(this).css("border-color","green"),c=!0):(s(this).next("span").css("display","block"),s(this).css("border-color","red"),c=!1)}),r(),s(".change").click(function(){s(".yzm").html(r())});var i=!1;s("#code").blur(function(){var e=s(this).val(),r=s(".yzm").html();e==r?(s(this).next("span").css("display","none"),s(this).css("border-color","green"),i=!0):(s(this).next("span").css("display","block"),s(this).css("border-color","red"),i=!1)}),s("#reg").click(function(){if(o&&n&&t&&c&&i){var e=s.ajax({type:"get",url:"http://datainfo.duapp.com/shopdata/userinfo.php",data:{status:"register",userID:s("#uname").val(),password:s("#upwd").val()}});e.done(function(e){switch(e){case"0":s("#s_reg").show().html("用户名重复了"),setTimeout(function(){s("#s_reg").hide()},2e3);break;case"1":s("#s_reg").show().html("注册成功了，3秒后将跳转到登录进行登录"),setTimeout(function(){location.href="login.html"},3e3);break;case"2":s("#s_reg").show().html("服务器产生错误，稍后再试"),setTimeout(function(){s("#s_reg").hide()},2e3)}}),e.error(function(){alert("请求失败了")})}else alert("请正确填写信息！")}),s(".login").click(function(){location.href="login.html"})});
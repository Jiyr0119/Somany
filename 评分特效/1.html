<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>评分特效</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		ul {
			list-style: none;
		}
		body {
			background: #ccc;
		}
		#box {
			margin: 50px auto;
			width: 80px;
		}
		#box li {
			float: left;
			width: 16px;
			height: 16px;
			background: url(star.png) -21px 0 no-repeat;
		}
		#box .hover {
			background-position: 0 0;
		}
	</style>
	<script type="text/javascript">
		function $(id) {
			return document.getElementById(id);
		}
		window.onload = function () {
			let oBox = $('box'), aLi = Array.from(oBox.children);


			// 记录是否发生点击
			var bStatus = false;

			aLi.forEach(function (v, k) {
				v.index = k;
				v.onmouseenter = function () {
					if(bStatus === false) {
						let oThat = this;
						aLi.forEach(function (n, m) {
							if(m <= oThat.index) {
								n.className = 'hover';
							} else {
								n.className = '';
							}
						});
					}
				}
			});

			// 点击ul后，改变bStatus的状态
			oBox.onclick = function () {
				bStatus = true;
			}

			oBox.onmouseleave = function () {
				if(bStatus === false) {
					aLi.forEach(function (v, k) {
						v.className = '';
					});
				}
			}
		}
	</script>
</head>
<body>
	<ul id="box">
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
</body>
</html>
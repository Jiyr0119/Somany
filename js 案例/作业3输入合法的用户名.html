<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		用户名： <input type="text" id="txt" /><input type="button" id="btn" value="登录"/>
		
	</body>
</html>
<script>
	/*
	 要求：长度在6—20 之间，否则alert提示
		不能用数字开头    否则有alert提示
		只能包含数字、字母、下划线，都正确，提示 正确，否则输出 只能包含字母数字下划线
	 * */
	function $(id){
		return document.getElementById(id);
	}
	
	$("btn").onclick = function(){
		//取出文本框的用户名
		var uname = $("txt").value;
		//长度在6—20 之间，否则alert提示
		if( uname.length<6 || uname.length > 20 ){
			alert("长度必须在6--20之间");
			return;
		}
		//不能用数字开头    否则有alert提示
		if( uname.charCodeAt(0)>= 48 && uname.charCodeAt(0)<=57 ){
			alert("不能用数字开头");
			return;
		}
		
		//只能包含数字、字母、下划线，都正确，提示 正确，否则输出 只能包含字母数字下划线
		//统计数字、字母、下划线的个数，如果结果等于 输入用户名的长度   ，如果相等 表示没有特殊字符存在
		var count = 0;
		for(var i = 0 ; i < uname.length ; i++){
			var ch = uname.charAt(i);
			if(ch>="0"&&ch<="9"||ch>="a"&&ch<="z"||ch>="A"&&ch<="Z"||ch=="_"){
				count++;
			}
		}
		if( uname.length == count ){
			alert("用户名合法");
		}else{
			alert("用户名只能由字母数字下划线组成");
		}
		
	}
</script>
